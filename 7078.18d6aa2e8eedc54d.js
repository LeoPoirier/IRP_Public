"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7078],{7078:(Y,u,a)=>{a.r(u),a.d(u,{ScanTabModule:()=>C});var s=a(981),_=a(6895),f=a(4719),d=a(6069),r=a(5861),n=a(6738),p=a(7020);function m(e,c){1&e&&(n.TgZ(0,"div"),n._UZ(1,"ion-spinner",8),n.qZA())}function T(e,c){1&e&&n._UZ(0,"ion-icon",17)}function b(e,c){1&e&&n._UZ(0,"ion-icon",18)}function h(e,c){1&e&&n._UZ(0,"ion-icon",19)}function v(e,c){1&e&&n._UZ(0,"ion-icon",20)}function x(e,c){if(1&e){const i=n.EpF();n.TgZ(0,"ion-item",5),n.NdJ("click",function(){const l=n.CHM(i).$implicit,g=n.oxw(3);return n.KtG(g.scanitemclick(l))}),n.TgZ(1,"ion-label")(2,"ion-label",4),n._uU(3),n.qZA(),n.TgZ(4,"ion-label",10),n._uU(5),n.qZA()(),n.TgZ(6,"ion-label",11),n.YNc(7,T,1,0,"ion-icon",12),n.YNc(8,b,1,0,"ion-icon",13),n.YNc(9,h,1,0,"ion-icon",14),n.YNc(10,v,1,0,"ion-icon",15),n.TgZ(11,"ion-label",16),n._uU(12),n.qZA()()()}if(2&e){const i=c.$implicit;n.xp6(3),n.Oqu(i.localName||"-"),n.xp6(2),n.Oqu(i.device.deviceId),n.xp6(2),n.Q6J("ngIf",i.rssi>-60),n.xp6(1),n.Q6J("ngIf",i.rssi>-70&&i.rssi<=-60),n.xp6(1),n.Q6J("ngIf",i.rssi>-80&&i.rssi<=-70),n.xp6(1),n.Q6J("ngIf",i.rssi<=-80),n.xp6(2),n.Oqu(i.rssi)}}function Z(e,c){if(1&e&&(n.TgZ(0,"ion-list"),n.YNc(1,x,13,7,"ion-item",9),n.qZA()),2&e){const i=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",i.scanresults)}}function S(e,c){if(1&e&&(n.ynx(0),n.YNc(1,Z,2,1,"ion-list",7),n.BQk()),2&e){const i=n.oxw();n.xp6(1),n.Q6J("ngIf",0!=i.scanresults.length)}}function I(e,c){if(1&e){const i=n.EpF();n.TgZ(0,"ion-list")(1,"ion-item",5),n.NdJ("click",function(){n.CHM(i);const o=n.oxw(2);return n.KtG(o.paireddeviceclick(o.paireddevice))}),n.TgZ(2,"ion-label")(3,"ion-label",4),n._uU(4),n.qZA(),n.TgZ(5,"ion-label",10),n._uU(6),n.qZA()()()()}if(2&e){const i=n.oxw(2);n.xp6(4),n.Oqu(i.paireddevice.name||"-"),n.xp6(2),n.Oqu(i.paireddevice.deviceId)}}function k(e,c){if(1&e&&(n.ynx(0),n.YNc(1,I,7,2,"ion-list",7),n.BQk()),2&e){const i=n.oxw();n.xp6(1),n.Q6J("ngIf",null!=i.paireddevice)}}const y=[{path:"",component:(()=>{class e{constructor(i,t,o,l,g){this.ble=i,this.ngZone=t,this.router=o,this.loadingCtrl=l,this.platform=g,this.scanning=!1,this.scantext="startscantext",this.scanresults=[],this.paireddevice=void 0}ngOnInit(){var i=this;return(0,r.Z)(function*(){yield i.ble.initializeble()})()}ionViewDidEnter(){this.scanning=!1,this.scantext="Scan"}ionViewDidLeave(){var i=this;return(0,r.Z)(function*(){i.platform.is("desktop")||i.stopscan()})()}scanclick(){this.scanning?this.stopscan():this.scan()}scan(){var i=this;return(0,r.Z)(function*(){i.scanning=!0,i.scantext="Stop Scanning",i.scanresults=[],i.paireddevice=void 0,i.platform.is("desktop")?i.ble.requestdevice(t=>{i.paireddevice=t,i.stopscan()}):i.ble.startscan(t=>{(null==t.manufacturerData||i.ble.checkmanufacturerdata(t.manufacturerData[794]))&&i.ngZone.run(()=>{i.scanresults.push(t)})})})()}stopscan(){var i=this;return(0,r.Z)(function*(){i.scanning=!1,i.scantext="Scan",i.platform.is("desktop")||(yield i.ble.stopscan())})()}scanitemclick(i){var t=this;return(0,r.Z)(function*(){t.router.navigate(["/tabs/featherwing"],{queryParams:{deviceid:i.device.deviceId}}),(yield t.loadingCtrl.create({message:"Connecting",spinner:"crescent"})).present()})()}paireddeviceclick(i){var t=this;return(0,r.Z)(function*(){t.router.navigate(["/tabs/featherwing"],{queryParams:{deviceid:i.deviceId}}),(yield t.loadingCtrl.create({message:"Connecting",spinner:"crescent"})).present()})()}refresh(i){var t=this;return(0,r.Z)(function*(){i.target.complete(),setTimeout((0,r.Z)(function*(){yield t.scan()}),250)})()}}return e.\u0275fac=function(i){return new(i||e)(n.Y36(p.x),n.Y36(n.R0b),n.Y36(d.F0),n.Y36(s.HT),n.Y36(s.t4))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-scantab"]],decls:17,vars:6,consts:[[3,"translucent"],["color","primary"],["slot","fixed",3,"disabled","ionRefresh"],[1,"ion-text-center","ion-align-items-center","scanheader"],[2,"font-weight","bold"],[3,"click"],["fill","clear"],[4,"ngIf"],["name","crescent","color","primary",1,"block"],[3,"click",4,"ngFor","ngForOf"],["color","medium",1,"deviceid"],[1,"itemwrapnogrow","ion-text-end"],["class","barsredcolor","size","small","src","assets/ic_signal/ic_signal_full.svg",4,"ngIf"],["class","barsredcolor","size","small","src","assets/ic_signal/ic_signal_3.svg",4,"ngIf"],["class","barsredcolor","size","small","src","assets/ic_signal/ic_signal_2.svg",4,"ngIf"],["class","barsredcolor","size","small","src","assets/ic_signal/ic_signal_1.svg",4,"ngIf"],["color","medium"],["size","small","src","assets/ic_signal/ic_signal_full.svg",1,"barsredcolor"],["size","small","src","assets/ic_signal/ic_signal_3.svg",1,"barsredcolor"],["size","small","src","assets/ic_signal/ic_signal_2.svg",1,"barsredcolor"],["size","small","src","assets/ic_signal/ic_signal_1.svg",1,"barsredcolor"]],template:function(i,t){1&i&&(n.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),n._uU(3," Scan "),n.qZA()()(),n.TgZ(4,"ion-content")(5,"ion-refresher",2),n.NdJ("ionRefresh",function(l){return t.refresh(l)}),n._UZ(6,"ion-refresher-content"),n.qZA(),n.TgZ(7,"ion-grid")(8,"ion-row",3)(9,"ion-col",4),n._uU(10," Rated Current Board "),n.qZA(),n.TgZ(11,"ion-col",5),n.NdJ("click",function(){return t.scanclick()}),n.TgZ(12,"ion-button",6),n._uU(13),n.qZA(),n.YNc(14,m,2,0,"div",7),n.qZA()()(),n.YNc(15,S,2,1,"ng-container",7),n.YNc(16,k,2,1,"ng-container",7),n.qZA()),2&i&&(n.Q6J("translucent",!1),n.xp6(5),n.Q6J("disabled",1==t.scanning),n.xp6(8),n.Oqu(t.scantext),n.xp6(1),n.Q6J("ngIf",t.scanning),n.xp6(1),n.Q6J("ngIf",0==t.platform.is("desktop")),n.xp6(1),n.Q6J("ngIf",1==t.platform.is("desktop")))},dependencies:[s.YG,s.wI,s.W2,s.jY,s.Gu,s.gu,s.Ie,s.Q$,s.q_,s.nJ,s.Wo,s.Nd,s.PQ,s.wd,s.sr,_.sg,_.O5],styles:[".scanheader[_ngcontent-%COMP%]{height:100px}.barsredcolor[_ngcontent-%COMP%]{filter:invert(12%) sepia(84%) saturate(7193%) hue-rotate(353deg) brightness(86%) contrast(110%)}.ios[_ngcontent-%COMP%]   .deviceid[_ngcontent-%COMP%]{font-size:small}"]}),e})()}];let J=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[d.Bz.forChild(y),d.Bz]}),e})(),C=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[s.Pc,_.ez,f.u5,J]}),e})()}}]);